@inherits LogInBase
@page "/login"
@page "/login/{returnUri}"
<h3>LogIn</h3>
@if (Model != null)
{
 <EditForm Model="@Model" OnValidSubmit="@onSubmitAsync">
    <DataAnnotationsValidator />
    <div class="form-group">
        <ValidationSummary />
    </div>
    <div class="form-group">
        <label >Email address</label>
        <input @bind-value="Model.UserName" class="form-control" id="exampleInputEmail1"  placeholder="Enter UserName">
        <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
    </div>
        <div class="form-group">
        <label for="exampleInputPassword1">Password</label>
        <input @bind="Model.password" @onfocus="(()=>{hasError = false;})" type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
    </div>
        <div class="form-group form-check">
        <input @bind-value="Model.RememberMe" type="checkbox" class="form-check-input">
        <label class="form-check-label" for="exampleCheck1">Remember me</label>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</EditForm>
    @if (hasError)
    {
        <div class="alert alert-danger" role="alert">
            the username or pass is incorrect
        </div>
    }
}
else
{
    <div class="spinner-grow text-primary " style="width:7em;height:7em;" role="status">
      <span class="sr-only">Loading...</span>
    </div>
}